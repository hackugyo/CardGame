== CardGame

* このアプリケーションは？
 同人ボードゲーム「Dazzle」を遊べるように作られた、コンソールアプリです。
 対戦AIがありますので、1人でも遊べます。

* 動作環境
Ruby 1.8.7以降

* 「Dazzle」とは？
 ゲーム制作集団「賽苑」が制作した、2人対戦用ボードゲームです。
 プレイヤは互いに、相手プレイヤから渡されるカードのみを用いて、4色のシンボルを奪いあいます。

http://www.saien.org/create/dazzle/

* ゲームのルール
 「Dazzle」は2人対戦用のゲームです。
 ゲームの目的は、場にある4つのシンボルのうち、獲得したときの点が高くなるものを獲得して、
 相手より高い点を得ることです。
 各シンボルの得点は、ゲーム中で両プレイヤがそのシンボルにどれだけ「投資」したかの合計値となります。
 各シンボルを獲得するには、そのシンボルに対して、相手プレイヤを上回る「領有」をしなくてはなりません。

** ターンの進行
 各ターン、2枚ずつ自分の山札からカードを引きます。
 そして手札から、相手に渡すカードを2枚選びます。
 カードを渡されたら、渡された2枚のうちいずれかを「投資」に、残りを自分の「領有」に使います。
 カードの色と同じ色のシンボルのみに、「投資」または「領有」できます。
 例えば、「3 of Red」と「2 of Green」とを渡された場合、
 ・Redのシンボルに前者のカードを「投資」して、Greenのシンボルの「領有」に後者を使うか、
 ・Greenのシンボルに後者のカードを「投資」して、Redのシンボルの「領有」に前者を使うか、
 のどちらかを選びます。
 これを繰り返し、手札・山札が両プレイヤとも0枚になった時点で、ゲームが終了します。

** 勝敗の判定
 ゲームが終了したら、各シンボルごとに、それが何点ぶんの価値があるかを、まず求めます。
 各シンボルについて、それに両プレイヤが「投資」したカードの合計点を求めます。
 このシンボルの獲得者は、この合計点だけ得点を得ます。
 次に、各シンボルの獲得者がどちらのプレイヤになったかを決めます。
 各シンボル・各プレイヤにつき、「領有」に使ったカードの合計点を求めます。
 あるシンボルの「領有」に使ったカードの合計点が多いプレイヤが、そのシンボルを獲得します。
 ※あるシンボルについて、両プレイヤとも「領有」に使ったカードの点の合計が等しい場合、どちらのプレイヤも獲得できません。

** カードの種類
 カードは、Blue/Green/Red/Yellowの4色と、3/2/1の点との組み合わせです。
 このうち、カードの点は、山札・相手の手札にあるうちから確認することができます。
 カードの色は、各シンボルと対応しています。

* 遊びかた
 このアプリではCPU対戦が可能です。
 各ターンでの操作は、数字入力で行います。

** 起動
 コマンドプロンプトなどから、
  CardGame_Dazzle\lib>ruby main.rb
 で起動できます。

** 感じをつかむには
 入力はすべて数字入力ですので、
 1 Enterを連打していれば、ゲームの進行が理解できるかと思います。

** 相手からカードを渡されたら
 手札と、場に出ているカード、そして相手が渡してきたカードが表示されます。
  In your hand :
  [1] 3 of Yellow, [2] 2 of Green, [3] 2 of Blue, [4] 2 of Yellow,
  [5] 1 of Green, [6] 1 of Blue, [7] 3 of Green, [8] 2 of Red
 On Play :
  Blue: 0 points now.()
  Red: 0 points now.()
  Green: 0 points now.()
  Yellow: 0 points now.()
  Your opponet presented : 3 of Red, 2 of Green
  Which card do you own? [1]..[2]
 先に、どちらを「領有」に使うかを、数字入力で選択します。
 渡されたカードのうち1番めを使いたい場合は1を、2番めなら2を入力します。
 上の例では、1を入力すると3 of Redのカードを（Redのシンボルの）「領有」に使ったことになります。
 選択をすると、現在の場の状況が表示されます。
 On Play :
  Blue: 0 points now.()
  Red: 0 points now.( YOU owns 3)
  Green: 2 points now.()
  Yellow: 0 points now.()
 今回は1を入力し、3 of Redを「領有」に使いました。
 残った2 of Greenは、自動的に「投資」となり、Greenシンボルの「投資」点が加算されます。

** 相手にカードを渡すには
  In your hand :
  [1] 3 of Yellow, [2] 2 of Green, [3] 2 of Blue, [4] 2 of Yellow,
  [5] 1 of Green, [6] 1 of Blue, [7] 3 of Red, [8] 2 of Red
  Which card do you play? [1]..[8]
 次はあなたが相手にカードを渡す番です。同様に数字を入力し、手札からカードを2枚選んでください。
 2回の選択が終わると、また相手がカードを渡してきます。
 これの繰り返しです。
 On Play :
  Blue:  points now.()
  Red: 0 points now.( YOU owns 3 vs  ENEMY owns 3)
  Green: 2 points now.()
  Yellow: 3 points now.()
  Your opponet presented : 2 of Red, 2 of Green
  Which card do you own? [1]..[2]

** ゲームの終了
ゲームが終了すると、結果が表示されます。
 ENEMYのBlue所有権は4, YOUのBlue所有権は4, Blueは獲得者なし，9点あった
 ENEMYのRed所有権は3, YOUのRed所有権は6, YOUがRedを獲得，+7点
 ENEMYのGreen所有権は5, YOUのGreen所有権は4, ENEMYがGreenを獲得，+6点
 ENEMYのYellow所有権は6, YOUのYellow所有権は4, ENEMYがYellowを獲得，+8点
 ENEMY gained 14.  YOU gained 7.  So, ENEMY win!

* お願い
「Dazzle」は同人ゲームであり、その著作権は「賽苑」に属します。
厳密には、ゲームのルールには著作権が発生しませんが、マナーとして守りたいと考えています。
したがってこのソースは公開しないでください。

* 製作者
WATANABE Kazuaki( @hackugyo )
game6000yen+hackugyo@gmail.com
